"use strict";document.addEventListener("DOMContentLoaded",function(){try{const o=document.documentElement,n=document.querySelector(".popup__overlay");let c=document.querySelector(".page-header"),i=c.querySelector(".catalog__button"),s=c.querySelector(".category--header"),a=function(e){27===e.keyCode&&closePopup()},r=function(e){let t=document.querySelectorAll(".popup");t&&t.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),i&&i.classList.contains("active")&&(i.classList.remove("active"),s.classList.remove("active")),o&&!o.classList.contains("active")&&o.classList.add("active"),n&&!n.classList.contains("active")&&n.classList.add("active"),e.classList.add("active"),document.addEventListener("keydown",a,!0)};window.closePopup=function(){let e=document.querySelectorAll(".popup");e&&e.forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),o&&o.classList.contains("active")&&o.classList.remove("active"),n&&n.classList.contains("active")&&n.classList.remove("active"),document.removeEventListener("keydown",a,!0)};let d=document.querySelectorAll(".openpopup");d&&d.forEach(function(e){let t=".popup--"+e.getAttribute("data-popup"),o=document.querySelector(t);e.addEventListener("click",function(){if(".popup--cart"==t)window.countProduct(".my-basket__item",0),window.cart.qtyChange(),window.cart.removeItem(),window.cart.couponClick(),window.cart.couponRemove();else if(".popup--oneclick"==t){let e=document.querySelector('input[name="variation_id"]');if(e&&0==e.value)return!1}o&&r(o)});var n=function(e){13===e.keyCode&&(r(o),document.removeEventListener("keydown",n))};e.addEventListener("focus",function(){o&&document.addEventListener("keydown",n)}),e.addEventListener("blur",function(){o&&document.removeEventListener("keydown",n)})});let u=document.querySelectorAll(".popup__close");if(u)for(var e=0;e<u.length;e++){u[e].addEventListener("click",closePopup);var t=function(e){13===e.keyCode&&(closePopup(),document.removeEventListener("keydown",t))};u[e].addEventListener("focus",function(){document.addEventListener("keydown",t)}),u[e].addEventListener("blur",function(){document.removeEventListener("keydown",t)})}n&&n.addEventListener("click",closePopup)}catch(e){console.log(e)}});
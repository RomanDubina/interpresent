jQuery(function(e){function t(t){let n="";e(t).find(".my-search__input").keydown(function(){$this=e(this),n=e.trim($this.val())});var i;e(t).find(".my-search__input").keyup(function(){return $this=e(this),e.trim($this.val())!=n&&((n=e.trim($this.val())).length>2?(i&&clearTimeout(i),i=setTimeout(function(){var i;i=n,console.log("ajax request"),e.ajax({url:interpresent_ajax.url,type:"POST",data:{action:"new_ajax_search",term:i},beforeSend:function(){e(t).find(".my-search__list").fadeOut(),e(t).find(".my-search__list").empty(),e(t).find(".my-search__preloader").show()},success:function(n){e(t).find(".my-search__preloader").hide(),e(t).find(".my-search__list").fadeIn().html(n)},error:function(e){console.log(e)}})},500)):n.length<2&&e(t).find(".my-search__list").empty()),!1}),e(t).find(".my-search__input").focusin(function(){e(t).find(".my-search__result").fadeIn()}),e(document).mouseup(function(n){e(t).find(".my-search__result").is(n.target)||0!==e(t).find(".my-search__result").has(n.target).length||e(t).find(".my-search__input").is(n.target)||0!==e(t).find(".my-search__input").has(n.target).length||(e(t).find(".my-search__result").fadeOut(),e(t).find(".my-search__list").empty())})}t(".my-search--header"),t(".my-search--catalog")});
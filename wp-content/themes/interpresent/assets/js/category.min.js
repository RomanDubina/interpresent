"use strict";document.addEventListener("DOMContentLoaded",function(){try{const t=document.documentElement;let n=document.querySelector(".page-header"),c=n.querySelector(".catalog__button"),s=n.querySelector(".category--header"),i=s.querySelector(".category__list--header"),o=i.querySelectorAll(".category__item"),a=function(){c.classList.toggle("active"),s.classList.toggle("active"),c.classList.contains("active")?document.addEventListener("keydown",r):document.removeEventListener("keydown",r)},r=function(e){27===e.keyCode&&a()};c&&s&&(c.addEventListener("click",function(){if(n&&t){let e=n.offsetHeight,c=t.offsetHeight;s.style.height=c-e+"px",s.style.top=n.offsetHeight+"px"}a()}),s.addEventListener("click",function(e){(e.target.classList.contains("category--header")||e.target.classList.contains("category__scroll")||e.target.classList.contains("category__wrapper"))&&a()}));let l=i.querySelectorAll("li"),d=i.querySelectorAll("a");if(l)for(var e=0;e<l.length;e++)l[e].tabIndex=0,d[e]&&(d[e].tabIndex=-1);if(o&&l){let e=o.length;l.forEach(function(t,n){var i=function(e){13===e.keyCode&&function(e){let t=e.querySelector("a");t&&(t.addEventListener("click",function(e){document.removeEventListener("keypress",i)}),t.click())}(t)};if(screen.width>1239&&(0!=n||c.classList.contains("active")||s.classList.contains("active")?n==l.length-1?t.classList.contains("category__item--parent")||t.addEventListener("blur",function(){t.addEventListener("focus",function(){document.addEventListener("keypress",i)}),a(),document.removeEventListener("keypress",i)}):t.addEventListener("focus",function(){document.addEventListener("keypress",i)}):t.addEventListener("focus",function(){a(),t.addEventListener("focus",function(){document.addEventListener("keypress",i)})})),t.classList.contains("category__item--parent")){let c=t.querySelector(".category__children");screen.width>1239?(t.addEventListener("focus",function(){this.classList.toggle("active"),c&&c.classList.toggle("active")}),n>e-5&&c&&(c.style.top="auto",c.style.bottom="0px")):screen.width<=1239&&t.addEventListener("click",function(e){e.target.classList.contains("category__item--parent")&&(c&&c.classList.toggle("active"),this.classList.toggle("active"))})}})}let u=document.querySelector(".promotion__aside--catalog");if(u&&screen.width>=921){let t=u.querySelectorAll(".category__item--catalog"),n=u.querySelectorAll(".category__list--catalog a");if(t){for(e=0;e<t.length;e++)t[e].tabIndex=0,n[e]&&(n[e].tabIndex=-1);t.forEach(function(e,t){let n=!1;e.addEventListener("mouseover",function(){n=!0}),e.addEventListener("mouseout",function(){n=!1});var c=function(t){13===t.keyCode&&function(e){let t=e.querySelector("a");t&&(t.addEventListener("click",function(e){document.removeEventListener("keypress",c)}),t.click())}(e)};e.addEventListener("focus",function(){if(!this.classList.contains("active")&&!1===n){if(e.classList.contains("category__item--parent")){let t=e.querySelector(".category__children");t&&t.classList.toggle("active"),this.classList.toggle("active")}document.addEventListener("keypress",c)}}),e.classList.contains("category__item--parent")&&e.addEventListener("click",function(t){if(!0===n&&t.target.classList.contains("category__item--parent")){let t=e.querySelector(".category__children");t&&t.classList.toggle("active"),this.classList.toggle("active")}})})}}else u&&screen.width<921&&u.remove()}catch(e){console.log(e)}});
"use strict";document.addEventListener("DOMContentLoaded",function(){try{const o=window.location.href,a=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,10}))$/,n="Неверный формат имени",l="Неверный формат телефона",s="Неверный формат e-mail",c="Введите название компании",d="Введите адрес и способ доставки",u="Имя",f="Адрес";var e=function(e,r){""===e.value&&(e.required||"true"===e.getAttribute("aria-required")||e.closest(".validate-required"))?(e.name.indexOf("name")>-1?e.placeholder=n:e.name.indexOf("phone")>-1?e.placeholder=l:e.name.indexOf("email")>-1?e.placeholder=s:e.name.indexOf("company")>-1?e.placeholder=c:e.name.indexOf("address")>-1?e.placeholder=d:e.name.indexOf("post_content")>-1?e.placeholder="Отзыв не может быть пустым":e.name.indexOf("message")>-1&&(e.placeholder="Укажите желаемый способ и адрес доставки. Или задайте интересующий Вас вопрос"),e.classList.contains("error-field")||e.classList.add("error-field")):e.name.indexOf("email")>-1&&(e.value.match(a)||(e.placeholder="Неверный формат e-mail",e.classList.contains("error-field")||e.classList.add("error-field"))),t(r)},t=function(e){let t=document.querySelector(e);if(t){var r=t.querySelectorAll("input"),i=t.querySelectorAll("textarea"),o=!1;let e=1;for(var n=0;n<r.length;n++)"submit"!==r[n].type&&"hidden"!==r[n].type&&(""===r[n].value&&(r[n].required||"true"===r[n].getAttribute("aria-required")||r[n].closest(".validate-required"))?e*=0:r[n].name.indexOf("email")>-1?r[n].value.match(a)||(e*=0):e*=1);for(var l=0;l<i.length;l++)!0!==i[l].required&&"true"!==i[l].getAttribute("aria-required")&&!i[l].closest(".validate-required")||""!==i[l].value||(e*=0);1===e&&(o=!0);let s=t.querySelector('input[type="submit"]'),c=t.querySelector('button[type="submit"]');if(o){if(o)if(s){s.style.pointerEvents="all",s.style.opacity=1;let e=s.parentNode;"LABEL"===e.tagName&&(e.style.pointerEvents="all",e.style.opacity=1)}else c&&(c.style.pointerEvents="all",c.style.opacity=1)}else if(s){s.style.pointerEvents="none",s.style.opacity=.5;let e=s.parentNode;"LABEL"===e.tagName&&(e.style.pointerEvents="none",e.style.opacity=.5)}else c&&(c.style.pointerEvents="none",c.style.opacity=.5)}},r=function(t){let r=document.querySelector(t);if(r){var i=r.querySelectorAll("input"),o=r.querySelectorAll("textarea");i.forEach((r,i)=>{if("submit"!==r.type&&"hidden"!==r.type){let i=r.placeholder;r.onblur=function(){e(this,t)},r.onfocus=function(e){this.placeholder=i,this.classList.contains("error-field")&&this.classList.remove("error-field")},r.onkeypress=function(e){return this.name.indexOf("name")>-1?/[a-zA-Zа-яА-Я ]/.test(String.fromCharCode(e.charCode)):this.name.indexOf("phone")>-1?/[0-9 -+()]/.test(String.fromCharCode(e.charCode)):void 0}}}),o.forEach((r,i)=>{let o=r.placeholder;r.onblur=function(){e(this,t)},r.onfocus=function(e){r.placeholder=o,r.classList.contains("error-field")&&r.classList.remove("error-field")}}),r.onclick=function(r){("FORM"===r.target.tagName||r.target.classList.contains("wpmtst-submit")||r.target.classList.contains("review__submit")||r.target.classList.contains("my-basket__line"))&&(i.forEach((r,i)=>{"submit"!==r.type&&"hidden"!==r.type&&e(r,t)}),o.forEach((r,i)=>{e(r,t)}))}}};if(o.indexOf("product")>0&&(t("#oneclick-form"),r("#oneclick-form")),o.indexOf("checkout")>0){t('form[name="checkout"]'),r('form[name="checkout"]');let e=document.querySelector("#ship-to-different-address-checkbox"),o=document.querySelectorAll(".review--shipping .validate-required");var i=function(){o.forEach((e,t)=>{if(e.classList.toggle("validate-required"),!e.classList.contains("validate-required")){let t=e.querySelector("input");t&&(t.name.indexOf("name")>1?t.placeholder=u:t.name.indexOf("address")>1&&(t.placeholder=f),t.classList.contains("error-field")&&t.classList.remove("error-field"))}})};e&&(e.checked||i(),e.onchange=function(){i(),t('form[name="checkout"]'),r('form[name="checkout"]')})}if(o.indexOf("about")>0&&-1===o.indexOf("success"))t("#wpmtst-submission-form"),r("#wpmtst-submission-form");else if(o.indexOf("about")>0&&o.indexOf("success")>0){let e=document.querySelector(".popup--review"),t=document.querySelector(".popup__overlay"),r=e.querySelector(".popup--review .popup__title");r&&r.remove();let i=e.querySelector(".review--popup");if(i){let r=document.createElement("button");r.textContent="Хорошо",r.className="success-button popup__close";let o=i.querySelector(".privacy");o&&t&&(i.replaceChild(r,o),e.classList.add("active"),t.classList.add("active"),r.addEventListener("click",function(){closePopup()}))}}t("#wpcf7-f162-o1 .wpcf7-form"),r("#wpcf7-f162-o1 .wpcf7-form")}catch(e){console.log(e)}});